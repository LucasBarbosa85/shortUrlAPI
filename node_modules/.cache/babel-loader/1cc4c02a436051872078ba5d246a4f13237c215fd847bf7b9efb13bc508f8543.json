{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport axios from 'axios';\nconst API_URL = 'http://localhost:3000'; // Substitua pelo URL correto da sua API\nconst TOKEN_KEY = 'user_token';\nexport const login = async (username, password) => {\n  try {\n    const response = await axios.post(`${API_URL}/api/login`, {\n      username,\n      password\n    });\n    if (response.data.token) {\n      // Armazena o token JWT no armazenamento local\n      localStorage.setItem(TOKEN_KEY, response.data.token);\n      return true;\n    }\n    return false;\n  } catch (error) {\n    console.error(error);\n    return false;\n  }\n};\nexport const logout = () => {\n  // Remove o token JWT do armazenamento local\n  localStorage.removeItem(TOKEN_KEY);\n};\nexport const getToken = () => {\n  return localStorage.getItem(TOKEN_KEY);\n};\nexport const isAuthenticated = () => {\n  // Verifica se o usu치rio possui um token JWT v치lido\n  const token = getToken();\n  if (token) {\n    // Decodifique o token JWT para verificar a validade\n    const decoded = parseJwt(token);\n    if (decoded && decoded.exp > Math.floor(Date.now() / 1000)) {\n      return true;\n    }\n  }\n  return false;\n};\nconst parseJwt = token => {\n  try {\n    return JSON.parse(atob(token.split('.')[1]));\n  } catch (e) {\n    return null;\n  }\n};","map":{"version":3,"names":["axios","API_URL","TOKEN_KEY","login","username","password","response","post","data","token","localStorage","setItem","error","console","logout","removeItem","getToken","getItem","isAuthenticated","decoded","parseJwt","exp","Math","floor","Date","now","JSON","parse","atob","split","e"],"sources":["C:/Users/Lucas Barbosa/Desktop/encurtar_url/url_short/src/services/auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:3000'; // Substitua pelo URL correto da sua API\r\nconst TOKEN_KEY = 'user_token';\r\n\r\nexport const login = async (username, password) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/api/login`, { username, password });\r\n    if (response.data.token) {\r\n      // Armazena o token JWT no armazenamento local\r\n      localStorage.setItem(TOKEN_KEY, response.data.token);\r\n      return true;\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  // Remove o token JWT do armazenamento local\r\n  localStorage.removeItem(TOKEN_KEY);\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem(TOKEN_KEY);\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  // Verifica se o usu치rio possui um token JWT v치lido\r\n  const token = getToken();\r\n  if (token) {\r\n    // Decodifique o token JWT para verificar a validade\r\n    const decoded = parseJwt(token);\r\n    if (decoded && decoded.exp > Math.floor(Date.now() / 1000)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    return JSON.parse(atob(token.split('.')[1]));\r\n  } catch (e) {\r\n    return null;\r\n  }\r\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB,CAAC,CAAC;AACzC,MAAMC,SAAS,GAAG,YAAY;AAE9B,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACjD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAE,GAAEN,OAAQ,YAAW,EAAE;MAAEG,QAAQ;MAAEC;IAAS,CAAC,CAAC;IACjF,IAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;MACvB;MACAC,YAAY,CAACC,OAAO,CAACT,SAAS,EAAEI,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;MACpD,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,OAAO,KAAK;EACd;AACF,CAAC;AAED,OAAO,MAAME,MAAM,GAAGA,CAAA,KAAM;EAC1B;EACAJ,YAAY,CAACK,UAAU,CAACb,SAAS,CAAC;AACpC,CAAC;AAED,OAAO,MAAMc,QAAQ,GAAGA,CAAA,KAAM;EAC5B,OAAON,YAAY,CAACO,OAAO,CAACf,SAAS,CAAC;AACxC,CAAC;AAED,OAAO,MAAMgB,eAAe,GAAGA,CAAA,KAAM;EACnC;EACA,MAAMT,KAAK,GAAGO,QAAQ,CAAC,CAAC;EACxB,IAAIP,KAAK,EAAE;IACT;IACA,MAAMU,OAAO,GAAGC,QAAQ,CAACX,KAAK,CAAC;IAC/B,IAAIU,OAAO,IAAIA,OAAO,CAACE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;MAC1D,OAAO,IAAI;IACb;EACF;EACA,OAAO,KAAK;AACd,CAAC;AAED,MAAML,QAAQ,GAAIX,KAAK,IAAK;EAC1B,IAAI;IACF,OAAOiB,IAAI,CAACC,KAAK,CAACC,IAAI,CAACnB,KAAK,CAACoB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9C,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}